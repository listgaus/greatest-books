<div class="book-spinner-item">
  <div class="image-side">
    <img [src]="book.volumeInfo.imageLinks.thumbnail">
  </div>
  <div class="text-side">
    <div class="upper-text">
      <h4 class="spinner-title">{{book.volumeInfo.title | booktitle }}</h4>
      <p class="spinner-authors"> by {{book.volumeInfo.authors}}, {{book.volumeInfo.publishedDate | date:'MM/dd/yyyy'}}</p>
      <p class="spinner-description">{{book.volumeInfo.description| truncate }}</p>
    </div>
    <div class="lower-btn">
      <button (click)="openModal(template)" class="btn edit-btn">Edit</button>
      <button (click)="openModal(template1)" class="btn edit-btn"><i class="fas fa-trash-alt"></i></button>
    </div>
  </div>
</div>


<ng-template #template>
  <div class="edit-popup">
    <div class="modal-header">
      <h4 class="modal-title pull-left">Edit</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="container">
        <form>
          <div class="form-group">
            <label for="title">Title</label>
            <input type="text" class="form-control" id="title" name="title" required [(ngModel)]="newTitle" >
          </div>

          <div class="form-group">
            <label for="authors">Authors</label>
            <input type="text" class="form-control" id="authors" name="authors" [(ngModel)]="newAuthors">
          </div>

          <div class="form-group">
            <label for="date">Publish Date</label>
            <input type="date" class="form-control" id="date" name="published-date" [(ngModel)]="newDate">
          </div>
        </form>

      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-primary save-button" (click)="saveBookItem();modalRef.hide();">Save</button>
      <button type="button" class="btn btn-danger pull-left delete-button" (click)="saveBookItem();modalRef.hide()">Cancel</button>
    </div>
  </div>
</ng-template>

<ng-template #template1>
  <div class="modal-body text-center">
    <p>Do you want to delete "{{book.volumeInfo.title}}?</p>
    <button type="button" class="btn btn-default" (click)="deleteBook();" >Yes</button>
    <button type="button" class="btn btn-primary" (click)="modalRef.hide();">No</button>
  </div>
</ng-template>

